<?xml version="1.0"?>
    <chroma>
        <annotation>
            Quark project 
                3pt test
        </annotation>
        <Param> 
            <InlineMeasurements>  
            <elem>
                <!-- Coulomb gauge fix -->
                <Name>COULOMB_GAUGEFIX</Name>
                <Frequency>1</Frequency>
                <Param>
                    <version>1</version>
                    <GFAccu>1.0e-7</GFAccu>
                    <GFMax>10000</GFMax>
                    <OrDo>false</OrDo>
                    <OrPara>1.0</OrPara>
                    <j_decay>3</j_decay>
                </Param>
                <NamedObject>
                    <gauge_id>default_gauge_field</gauge_id>
                    <gfix_id>coulomb_fix_gauge</gfix_id>
                    <gauge_rot_id>gauge_rot</gauge_rot_id>
                </NamedObject>
            </elem>
            
            <elem>
                <Name>MAKE_SOURCE</Name>
                <Frequency>1</Frequency>
                <Param>
                <version>6</version>
                <Source>
                    <version>1</version>
                    <SourceType>MOM_GRID_SOURCE</SourceType>
                    <j_decay>3</j_decay>
                    <t_srce>0 0 0 0</t_srce>
                    <grid>1 1 1 72</grid>
                    <ini_mom>0 0 0 0</ini_mom>
                    <SmearingParam>
                    <wvf_kind>MOM_GAUSSIAN</wvf_kind>
                    <wvf_param>1</wvf_param>
                    <wvfIntPar>1</wvfIntPar>
                    <mom>0 0 0 0</mom>    
                    <no_smear_dir>3</no_smear_dir>
                    <qudaSmearingP>false</qudaSmearingP>
                    </SmearingParam>
                </Source>
                </Param>
                <NamedObject>
                <gauge_id>coulomb_fix_gauge</gauge_id>
                <source_id>source</source_id>
                </NamedObject>
            </elem>
              
            <elem>
                <Name>PROPAGATOR</Name>
                <Frequency>1</Frequency>
                <Param>
                    <version>10</version>
                    <quarkSpinType>FULL</quarkSpinType>
                    <obsvP>true</obsvP>
                    <numRetries>1</numRetries>
                    <FermionAction>          
                        <FermAct>CLOVER</FermAct>
                        <Mass>-0.2770</Mass>
                        <clovCoeff>1.160920226</clovCoeff>
                        <FermState>
                        <Name>STOUT_FERM_STATE</Name>
                        <rho>0.125</rho>
                        <n_smear>1</n_smear>
                        <orthog_dir>-1</orthog_dir>
                        <FermionBC>
                            <FermBC>SIMPLE_FERMBC</FermBC>
                            <boundary>1 1 1 -1</boundary>
                        </FermionBC>
                        </FermState>
                    </FermionAction>
                <InvertParam>
                    <invType>QUDA_MULTIGRID_CLOVER_INVERTER</invType>
                    <MULTIGRIDParams>
                    <RelaxationOmegaMG>1.0</RelaxationOmegaMG>
                    <RelaxationOmegaOuter>1.0</RelaxationOmegaOuter>
                    <CheckMultigridSetup>true</CheckMultigridSetup>
                    <Residual>1.0e-1</Residual>
                    <MaxIterations>12</MaxIterations>
                    <Verbosity>true</Verbosity>
                    <Precision>SINGLE</Precision>
                    <Reconstruct>RECONS_12</Reconstruct>
                    <NullVectors>24 32</NullVectors>
                    <GenerateNullspace>true</GenerateNullspace>
                    <GenerateAllLevels>true</GenerateAllLevels>
                    <CheckMultigridSetup>true</CheckMultigridSetup>
                    <CycleType>MG_RECURSIVE</CycleType>
                    <Pre-SmootherApplications>0 0</Pre-SmootherApplications>
                    <Post-SmootherApplications>8 8</Post-SmootherApplications>
                    <SchwarzType>ADDITIVE_SCHWARZ</SchwarzType>
                    <Blocking>
                        <elem>3 3 3 2</elem>
                        <elem>2 2 2 2</elem>
                    </Blocking>
                    </MULTIGRIDParams>
                    <SubspaceID>quda_mg_subspace</SubspaceID>
                    <ThresholdCount>500</ThresholdCount>
                    <MaxIter>10000</MaxIter>
                    <CloverParams>
                    <Mass>-0.2770</Mass>
                    <clovCoeff>1.160920226</clovCoeff>
                    <AnisoParam>
                    <anisoP>false</anisoP>
                    <t_dir>3</t_dir>
                    <xi_0>1.0</xi_0>
                    <nu>1</nu>
                    </AnisoParam>
                    <FermionBC>
                        <FermBC>SIMPLE_FERMBC</FermBC>
                        <boundary>1 1 1 -1</boundary>
                    </FermionBC>
                    </CloverParams>
                    <RsdTarget>1e-7</RsdTarget>
                    <Delta>0.1</Delta>
                    <RsdToleranceFactor>1</RsdToleranceFactor>
                    <SilentFail>false</SilentFail>
                    <AntiPeriodicT>true</AntiPeriodicT>
                    <SolverType>GCR</SolverType>
                    <Verbose>false</Verbose>
                    <AsymmetricLinop>true</AsymmetricLinop>
                    <CudaReconstruct>RECONS_12</CudaReconstruct>
                    <CudaSloppyPrecision>SINGLE</CudaSloppyPrecision>
                    <CudaSloppyReconstruct>RECONS_12</CudaSloppyReconstruct>
                </InvertParam>
                
                </Param>
                <NamedObject>
                    <gauge_id>coulomb_fix_gauge</gauge_id>
                    <source_id>source</source_id>
                    <prop_id>prop</prop_id>
                </NamedObject>
            </elem>
            <elem>
                <Name>SINK_SMEAR</Name>
                <Frequency>1</Frequency>
                <Param>
                    <version>5</version>
                    <Sink>
                    <version>1</version>
                    <SinkType>SHELL_SINK</SinkType>
                    <j_decay>3</j_decay>
                    <SmearingParam>
                        <wvf_kind>MOM_GAUSSIAN</wvf_kind>
                        <wvf_param>0</wvf_param>
                        <wvfIntPar>0</wvfIntPar>
                        <no_smear_dir>3</no_smear_dir>
                        <mom>0 0 0 0</mom>
                    </SmearingParam>
                    <Displacement>
                        <version>1</version>
                        <DisplacementType>NONE</DisplacementType>
                    </Displacement>
                    </Sink>
                </Param>
                <NamedObject>
                    <gauge_id>coulomb_fix_gauge</gauge_id>
                    <prop_id>prop</prop_id>
                    <smeared_prop_id>smeared_prop</smeared_prop_id>
                </NamedObject>
            </elem>
              
            <elem>
                <annotation>
                    Compute the hadron spectrum.
                    This version is a clone of the one below, however the xml output is written within the same chroma output file.
                </annotation>
                <Name>HADRON_SPECTRUM_v2</Name>
                <Frequency>1</Frequency>
                <Param>
                    <version>1</version>
                    <hadron_list>200505</hadron_list>
                    <mom_list>505050</mom_list>
                    <prj_type>0</prj_type>
                    <cfg_serial>10000</cfg_serial>
                    <avg_equiv_mom>false</avg_equiv_mom>
                    <time_rev>false</time_rev>
                    <translate>false</translate>
                </Param>
                <NamedObject>
                    <gauge_id>coulomb_fix_gauge</gauge_id>    
                    <sink_pairs>
                        <elem>
                            <first_id>smeared_prop</first_id>
                            <second_id>smeared_prop</second_id>
                        </elem>
                    </sink_pairs>
                </NamedObject>
                <output>/public/home/sush/share_work/chroma/beta6.20_mu-0.2770_ms-0.2400_L24x72/nucleon_2pt_Px0Py0Pz0_ENV-1_conf10000_tsep-1_mass-0.2770.iog</output>
            </elem>
                
            <elem>
                <Name>SEQSOURCE_FAST</Name>
                <SmearedProps>true</SmearedProps>
                <multi_tSinks> 10 </multi_tSinks>
                <Frequency>1</Frequency>
                <Param>
                    <version>2</version>
                    <SeqSource>
                    <version>1</version>
                    <SeqSourceType>NUCL_U_UNPOL_NONREL</SeqSourceType>
                    <j_decay>3</j_decay>
                    <t_sink>0</t_sink>
                    <sink_mom>0 0 0</sink_mom>
                    </SeqSource>
                </Param>
                <PropSink>
                    <version>5</version>
                    <Sink>
                    <version>2</version>
                    <SinkType>POINT_SINK</SinkType>
                    <j_decay>3</j_decay>
                    <Displacement>  
                        <version>1</version>
                        <DisplacementType>NONE</DisplacementType>
                    </Displacement>
                    </Sink>
                </PropSink>
                <NamedObject>
                    <prop_ids>
                        <elem>smeared_prop</elem>
                        <elem>smeared_prop</elem>
                    </prop_ids>
                    <seqsource_id>
                        <elem>seq_source_U</elem>
                    </seqsource_id>
                    <gauge_id>coulomb_fix_gauge</gauge_id>
                </NamedObject>
            </elem>
        
            <elem>
                <Name>SEQSOURCE_FAST</Name>
                <SmearedProps>true</SmearedProps>
                <multi_tSinks> 10 </multi_tSinks>
                <Frequency>1</Frequency>
                <Param>
                    <version>2</version>
                    <SeqSource>
                    <version>1</version>
                    <SeqSourceType>NUCL_D_UNPOL_NONREL</SeqSourceType>
                    <j_decay>3</j_decay>
                    <t_sink>0</t_sink>
                    <sink_mom>0 0 0</sink_mom>
                    </SeqSource>
                </Param>
                <PropSink>
                    <version>5</version>
                    <Sink>
                    <version>2</version>
                    <SinkType>POINT_SINK</SinkType>
                    <j_decay>3</j_decay>
                    <Displacement>  
                        <version>1</version>
                        <DisplacementType>NONE</DisplacementType>
                    </Displacement>
                    </Sink>
                </PropSink>
                <NamedObject>
                    <prop_ids>
                        <elem>smeared_prop</elem>
                        <elem>smeared_prop</elem>
                    </prop_ids>
                    <seqsource_id>
                        <elem>seq_source_D</elem>
                    </seqsource_id>
                    <gauge_id>coulomb_fix_gauge</gauge_id>
                </NamedObject>
            </elem>
        
            <elem>
                <Name>PROPAGATOR</Name>
                <Frequency>1</Frequency>
                <Param>
                    <version>10</version>
                    <quarkSpinType>FULL</quarkSpinType>
                    <obsvP>true</obsvP>
                    <numRetries>1</numRetries>
                    <FermionAction>          
                        <FermAct>CLOVER</FermAct>
                        <Mass>-0.2770</Mass>
                        <clovCoeff>1.160920226</clovCoeff>
                        <FermState>
                        <Name>STOUT_FERM_STATE</Name>
                        <rho>0.125</rho>
                        <n_smear>1</n_smear>
                        <orthog_dir>-1</orthog_dir>
                        <FermionBC>
                            <FermBC>SIMPLE_FERMBC</FermBC>
                            <boundary>1 1 1 -1</boundary>
                        </FermionBC>
                        </FermState>
                    </FermionAction>
                <InvertParam>
                    <invType>QUDA_MULTIGRID_CLOVER_INVERTER</invType>
                    <MULTIGRIDParams>
                    <RelaxationOmegaMG>1.0</RelaxationOmegaMG>
                    <RelaxationOmegaOuter>1.0</RelaxationOmegaOuter>
                    <CheckMultigridSetup>true</CheckMultigridSetup>
                    <Residual>1.0e-1</Residual>
                    <MaxIterations>12</MaxIterations>
                    <Verbosity>true</Verbosity>
                    <Precision>SINGLE</Precision>
                    <Reconstruct>RECONS_12</Reconstruct>
                    <NullVectors>24 32</NullVectors>
                    <GenerateNullspace>true</GenerateNullspace>
                    <GenerateAllLevels>true</GenerateAllLevels>
                    <CheckMultigridSetup>true</CheckMultigridSetup>
                    <CycleType>MG_RECURSIVE</CycleType>
                    <Pre-SmootherApplications>0 0</Pre-SmootherApplications>
                    <Post-SmootherApplications>8 8</Post-SmootherApplications>
                    <SchwarzType>ADDITIVE_SCHWARZ</SchwarzType>
                    <Blocking>
                        <elem>3 3 3 2</elem>
                        <elem>2 2 2 2</elem>
                    </Blocking>
                    </MULTIGRIDParams>
                    <SubspaceID>quda_mg_subspace</SubspaceID>
                    <ThresholdCount>500</ThresholdCount>
                    <MaxIter>10000</MaxIter>
                    <CloverParams>
                    <Mass>-0.2770</Mass>
                    <clovCoeff>1.160920226</clovCoeff>
                    <AnisoParam>
                    <anisoP>false</anisoP>
                    <t_dir>3</t_dir>
                    <xi_0>1.0</xi_0>
                    <nu>1</nu>
                    </AnisoParam>
                    <FermionBC>
                        <FermBC>SIMPLE_FERMBC</FermBC>
                        <boundary>1 1 1 -1</boundary>
                    </FermionBC>
                    </CloverParams>
                    <RsdTarget>1e-7</RsdTarget>
                    <Delta>0.1</Delta>
                    <RsdToleranceFactor>1</RsdToleranceFactor>
                    <SilentFail>false</SilentFail>
                    <AntiPeriodicT>true</AntiPeriodicT>
                    <SolverType>GCR</SolverType>
                    <Verbose>false</Verbose>
                    <AsymmetricLinop>true</AsymmetricLinop>
                    <CudaReconstruct>RECONS_12</CudaReconstruct>
                    <CudaSloppyPrecision>SINGLE</CudaSloppyPrecision>
                    <CudaSloppyReconstruct>RECONS_12</CudaSloppyReconstruct>
                </InvertParam>
                
                </Param>
                <NamedObject>
                    <gauge_id>coulomb_fix_gauge</gauge_id>
                    <source_id>seq_source_U</source_id>
                    <prop_id>seq_prop_U</prop_id>
                </NamedObject>
            </elem>
            <elem>
                <Name>PROPAGATOR</Name>
                <Frequency>1</Frequency>
                <Param>
                    <version>10</version>
                    <quarkSpinType>FULL</quarkSpinType>
                    <obsvP>true</obsvP>
                    <numRetries>1</numRetries>
                    <FermionAction>          
                        <FermAct>CLOVER</FermAct>
                        <Mass>-0.2770</Mass>
                        <clovCoeff>1.160920226</clovCoeff>
                        <FermState>
                        <Name>STOUT_FERM_STATE</Name>
                        <rho>0.125</rho>
                        <n_smear>1</n_smear>
                        <orthog_dir>-1</orthog_dir>
                        <FermionBC>
                            <FermBC>SIMPLE_FERMBC</FermBC>
                            <boundary>1 1 1 -1</boundary>
                        </FermionBC>
                        </FermState>
                    </FermionAction>
                <InvertParam>
                    <invType>QUDA_MULTIGRID_CLOVER_INVERTER</invType>
                    <MULTIGRIDParams>
                    <RelaxationOmegaMG>1.0</RelaxationOmegaMG>
                    <RelaxationOmegaOuter>1.0</RelaxationOmegaOuter>
                    <CheckMultigridSetup>true</CheckMultigridSetup>
                    <Residual>1.0e-1</Residual>
                    <MaxIterations>12</MaxIterations>
                    <Verbosity>true</Verbosity>
                    <Precision>SINGLE</Precision>
                    <Reconstruct>RECONS_12</Reconstruct>
                    <NullVectors>24 32</NullVectors>
                    <GenerateNullspace>true</GenerateNullspace>
                    <GenerateAllLevels>true</GenerateAllLevels>
                    <CheckMultigridSetup>true</CheckMultigridSetup>
                    <CycleType>MG_RECURSIVE</CycleType>
                    <Pre-SmootherApplications>0 0</Pre-SmootherApplications>
                    <Post-SmootherApplications>8 8</Post-SmootherApplications>
                    <SchwarzType>ADDITIVE_SCHWARZ</SchwarzType>
                    <Blocking>
                        <elem>3 3 3 2</elem>
                        <elem>2 2 2 2</elem>
                    </Blocking>
                    </MULTIGRIDParams>
                    <SubspaceID>quda_mg_subspace</SubspaceID>
                    <ThresholdCount>500</ThresholdCount>
                    <MaxIter>10000</MaxIter>
                    <CloverParams>
                    <Mass>-0.2770</Mass>
                    <clovCoeff>1.160920226</clovCoeff>
                    <AnisoParam>
                    <anisoP>false</anisoP>
                    <t_dir>3</t_dir>
                    <xi_0>1.0</xi_0>
                    <nu>1</nu>
                    </AnisoParam>
                    <FermionBC>
                        <FermBC>SIMPLE_FERMBC</FermBC>
                        <boundary>1 1 1 -1</boundary>
                    </FermionBC>
                    </CloverParams>
                    <RsdTarget>1e-7</RsdTarget>
                    <Delta>0.1</Delta>
                    <RsdToleranceFactor>1</RsdToleranceFactor>
                    <SilentFail>false</SilentFail>
                    <AntiPeriodicT>true</AntiPeriodicT>
                    <SolverType>GCR</SolverType>
                    <Verbose>false</Verbose>
                    <AsymmetricLinop>true</AsymmetricLinop>
                    <CudaReconstruct>RECONS_12</CudaReconstruct>
                    <CudaSloppyPrecision>SINGLE</CudaSloppyPrecision>
                    <CudaSloppyReconstruct>RECONS_12</CudaSloppyReconstruct>
                </InvertParam>
                
                </Param>
                <NamedObject>
                    <gauge_id>coulomb_fix_gauge</gauge_id>
                    <source_id>seq_source_D</source_id>
                    <prop_id>seq_prop_D</prop_id>
                </NamedObject>
            </elem>
            <elem>
            <annotation>
                "a_0" just indicates the Gamma =1; therefore the output gamma is the corret ones int eh chroma gamma index
            </annotation>
            <Name>BUILDING_BLOCKS_IOG</Name>
            <Frequency>1</Frequency>
            <Param>
            <version>6</version>
            <cfg_serial>10000</cfg_serial>
            <use_sink_offset>false</use_sink_offset>
            <mom2_max>0</mom2_max>
            <links_max>10</links_max>
            <links_dir>2</links_dir>
            <canonical>false</canonical>
            <time_reverse>false</time_reverse>
            <translate>false</translate>
            <conserved>false</conserved>
            <use_gpu>false</use_gpu>
            <use_cpu>true</use_cpu>
            </Param>
            <BuildingBlocks>
            <OutFileName>/public/home/sush/share_work/chroma/beta6.20_mu-0.2770_ms-0.2400_L24x72/output/nucleon_3pt_Px0Py0Pz0_ENV-1_conf10000_tsep10_mass-0.2770_linkdir2_linkmax10.out</OutFileName>
            <GaugeId>coulomb_fix_gauge</GaugeId>
            <FrwdPropId>prop</FrwdPropId>
            <BkwdProps>
                <elem>
                <BkwdPropId>seq_prop_U</BkwdPropId>          
                <BkwdPropG5Format>G5_B_G5</BkwdPropG5Format>
                <GammaInsertion>0</GammaInsertion>
                <Flavor>U</Flavor>
                <BBFileNamePattern>/public/home/sush/share_work/chroma/beta6.20_mu-0.2770_ms-0.2400_L24x72/nucleon_U_3pt_Px0Py0Pz0_ENV-1_conf10000_tsep10_mass-0.2770_linkdir2_linkmax10.iog</BBFileNamePattern>
                <BBFileNamePattern_gpu>/public/home/sush/share_work/chroma/beta6.20_mu-0.2770_ms-0.2400_L24x72/nucleon_U_3pt_Px0Py0Pz0_ENV-1_conf10000_tsep10_mass-0.2770_linkdir2_linkmax10.iog</BBFileNamePattern_gpu>
                </elem>
            </BkwdProps>
            </BuildingBlocks>
            <xml_file>/public/home/sush/share_work/chroma/beta6.20_mu-0.2770_ms-0.2400_L24x72/xml/nucleon_3pt_Px0Py0Pz0_ENV-1_conf10000_tsep10_mass-0.2770_linkdir2_linkmax10.xml</xml_file>
        </elem>
              
            <elem>
            <annotation>
                "a_0" just indicates the Gamma =1; therefore the output gamma is the corret ones int eh chroma gamma index
            </annotation>
            <Name>BUILDING_BLOCKS_IOG</Name>
            <Frequency>1</Frequency>
            <Param>
            <version>6</version>
            <cfg_serial>10000</cfg_serial>
            <use_sink_offset>false</use_sink_offset>
            <mom2_max>0</mom2_max>
            <links_max>10</links_max>
            <links_dir>2</links_dir>
            <canonical>false</canonical>
            <time_reverse>false</time_reverse>
            <translate>false</translate>
            <conserved>false</conserved>
            <use_gpu>false</use_gpu>
            <use_cpu>true</use_cpu>
            </Param>
            <BuildingBlocks>
            <OutFileName>/public/home/sush/share_work/chroma/beta6.20_mu-0.2770_ms-0.2400_L24x72/output/nucleon_3pt_Px0Py0Pz0_ENV-1_conf10000_tsep10_mass-0.2770_linkdir2_linkmax10.out</OutFileName>
            <GaugeId>coulomb_fix_gauge</GaugeId>
            <FrwdPropId>prop</FrwdPropId>
            <BkwdProps>
                <elem>
                <BkwdPropId>seq_prop_D</BkwdPropId>          
                <BkwdPropG5Format>G5_B_G5</BkwdPropG5Format>
                <GammaInsertion>0</GammaInsertion>
                <Flavor>D</Flavor>
                <BBFileNamePattern>/public/home/sush/share_work/chroma/beta6.20_mu-0.2770_ms-0.2400_L24x72/nucleon_D_3pt_Px0Py0Pz0_ENV-1_conf10000_tsep10_mass-0.2770_linkdir2_linkmax10.iog</BBFileNamePattern>
                <BBFileNamePattern_gpu>/public/home/sush/share_work/chroma/beta6.20_mu-0.2770_ms-0.2400_L24x72/nucleon_D_3pt_Px0Py0Pz0_ENV-1_conf10000_tsep10_mass-0.2770_linkdir2_linkmax10.iog</BBFileNamePattern_gpu>
                </elem>
            </BkwdProps>
            </BuildingBlocks>
            <xml_file>/public/home/sush/share_work/chroma/beta6.20_mu-0.2770_ms-0.2400_L24x72/xml/nucleon_3pt_Px0Py0Pz0_ENV-1_conf10000_tsep10_mass-0.2770_linkdir2_linkmax10.xml</xml_file>
        </elem>
              
            </InlineMeasurements>    
            
            <nrow>24 24 24 72</nrow>
            
        </Param>
        <RNG>
            <Seed>
            <elem>11</elem>
            <elem>11</elem>
            <elem>11</elem>
            <elem>0</elem>
            </Seed>
        </RNG>
        <Cfg>
            <cfg_type>SCIDAC</cfg_type>
            <cfg_file>/public/group/lqcd/configurations/CLOVER/beta6.20_mu-0.2770_ms-0.2400_L24x72/beta6.20_mu-0.2770_ms-0.2400_L24x72_cfg_10000.lime</cfg_file>
            <parallel_io>true</parallel_io>
        </Cfg>
    </chroma>
        
